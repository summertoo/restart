<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>restart - Sui è‡ªé”ä»“å¹³å°</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <!-- Header -->
    <header class="bg-gray-900 text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold">restart</h1>
                <div id="wallet-section">
                    <button onclick="connectWallet()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                        è¿æ¥é’±åŒ…
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Hero Section -->
            <section class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">
                    æ¬¢è¿ä½¿ç”¨ Restart è‡ªé”ä»“å¹³å°
                </h2>
                <p class="text-xl text-gray-600 mb-8">
                    åŸºäº Sui åŒºå—é“¾çš„å»ä¸­å¿ƒåŒ–è‡ªé”ä»“è§£å†³æ–¹æ¡ˆ
                </p>
            </section>

            <!-- Create Locked Object Section -->
            <section class="mb-12">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6">åˆ›å»ºè‡ªé”å¯¹è±¡</h2>
                    
                    <div id="message" class="hidden mb-4 p-4 rounded-lg"></div>

                    <form onsubmit="createLockedObject(event)" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                å¯¹è±¡åç§°
                            </label>
                            <input
                                type="text"
                                id="name"
                                required
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="è¾“å…¥å¯¹è±¡åç§°"
                            />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                æè¿°ä¿¡æ¯
                            </label>
                            <textarea
                                id="description"
                                required
                                rows="3"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="è¾“å…¥æè¿°ä¿¡æ¯"
                            ></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                æœ€å°é”ä»“æ—¶é—´ (ç§’)
                            </label>
                            <input
                                type="number"
                                id="minLockPeriod"
                                value="86400"
                                required
                                min="1"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="86400 (24å°æ—¶)"
                            />
                            <p class="text-xs text-gray-500 mt-1">86400ç§’ = 24å°æ—¶</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                æ¯æ—¥æœ€å¤§æå–é™é¢ (MIST)
                            </label>
                            <input
                                type="number"
                                id="maxWithdrawalPerDay"
                                value="1000000000"
                                required
                                min="0"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="1000000000 (1 SUI)"
                            />
                            <p class="text-xs text-gray-500 mt-1">1 SUI = 1,000,000,000 MIST</p>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                æå–æ‰‹ç»­è´¹ç‡ (åŸºç‚¹)
                            </label>
                            <input
                                type="number"
                                id="withdrawalFeeRate"
                                value="100"
                                required
                                min="0"
                                max="10000"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                                placeholder="100 (1%)"
                            />
                            <p class="text-xs text-gray-500 mt-1">100åŸºç‚¹ = 1%</p>
                        </div>

                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input
                                    type="checkbox"
                                    id="autoReinvest"
                                    class="mr-2"
                                />
                                <span class="text-sm text-gray-700">è‡ªåŠ¨å†æŠ•èµ„</span>
                            </label>

                            <label class="flex items-center">
                                <input
                                    type="checkbox"
                                    id="emergencyWithdrawal"
                                    class="mr-2"
                                />
                                <span class="text-sm text-gray-700">å…è®¸ç´§æ€¥æå–</span>
                            </label>
                        </div>

                        <button
                            type="submit"
                            id="submitBtn"
                            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors"
                        >
                            åˆ›å»ºè‡ªé”å¯¹è±¡
                        </button>
                    </form>
                </div>
            </section>

            <!-- Features Section -->
            <section class="grid md:grid-cols-3 gap-6 mb-12">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="text-blue-600 text-3xl mb-4">ğŸ”’</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">å®‰å…¨é”ä»“</h3>
                    <p class="text-gray-600">
                        ä½¿ç”¨æ™ºèƒ½åˆçº¦ç¡®ä¿èµ„é‡‘å®‰å…¨ï¼Œæ”¯æŒè‡ªå®šä¹‰é”ä»“æ—¶é—´å’Œæå–è§„åˆ™
                    </p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="text-green-600 text-3xl mb-4">âš¡</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">å¿«é€Ÿäº¤æ˜“</h3>
                    <p class="text-gray-600">
                        åŸºäº Sui é«˜æ€§èƒ½åŒºå—é“¾ï¼Œäº¤æ˜“ç¡®è®¤é€Ÿåº¦å¿«ï¼Œæ‰‹ç»­è´¹ä½
                    </p>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="text-purple-600 text-3xl mb-4">ğŸ›¡ï¸</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">çµæ´»æ§åˆ¶</h3>
                    <p class="text-gray-600">
                        æ”¯æŒç´§æ€¥æå–ã€è‡ªåŠ¨å†æŠ•èµ„ç­‰é«˜çº§åŠŸèƒ½ï¼Œæ»¡è¶³ä¸åŒéœ€æ±‚
                    </p>
                </div>
            </section>

            <!-- Info Section -->
            <section class="bg-blue-50 rounded-lg p-6 text-center">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">å…³äº Sui æµ‹è¯•ç½‘</h3>
                <p class="text-gray-600 mb-4">
                    å½“å‰åº”ç”¨è¿æ¥åˆ° Sui æµ‹è¯•ç½‘ç»œï¼Œæ‰€æœ‰äº¤æ˜“ä½¿ç”¨æµ‹è¯•ä»£å¸ï¼Œæ— å®é™…ä»·å€¼ã€‚
                </p>
                <div class="flex justify-center space-x-4 text-sm text-gray-500">
                    <span>ç½‘ç»œ: Sui Testnet</span>
                    <span>â€¢</span>
                    <span>ä»£å¸: SUI</span>
                    <span>â€¢</span>
                    <span>çŠ¶æ€: æµ‹è¯•ç¯å¢ƒ</span>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-400">
                Â© 2024 Restart. åŸºäº Sui åŒºå—é“¾æ„å»ºçš„å»ä¸­å¿ƒåŒ–åº”ç”¨
            </p>
        </div>
    </footer>

    <script>
        let isConnected = false;
        let currentAccount = null;
        let balance = '0';

        function formatBalance(balance) {
            const mist = parseInt(balance);
            const sui = mist / 1000000000;
            return sui.toFixed(4);
        }

        function formatAddress(address) {
            return `${address.slice(0, 6)}...${address.slice(-4)}`;
        }

        function showMessage(type, text) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = `mb-4 p-4 rounded-lg ${
                type === 'success' 
                    ? 'bg-green-100 border border-green-400 text-green-700' 
                    : 'bg-red-100 border border-red-400 text-red-700'
            }`;
            messageEl.classList.remove('hidden');
            
            setTimeout(() => {
                messageEl.classList.add('hidden');
            }, 5000);
        }

        function connectWallet() {
            const walletSection = document.getElementById('wallet-section');
            
            // æ¨¡æ‹Ÿé’±åŒ…è¿æ¥
            const mockAddress = '0x' + Math.random().toString(16).substr(2, 40);
            currentAccount = mockAddress;
            isConnected = true;
            balance = '1000000000'; // 1 SUI in MIST

            walletSection.innerHTML = `
                <div class="flex items-center space-x-4 bg-gray-800 p-4 rounded-lg">
                    <div class="text-white">
                        <div class="text-sm text-gray-400">é’±åŒ…åœ°å€</div>
                        <div class="font-mono text-sm">${formatAddress(currentAccount)}</div>
                    </div>
                    <div class="text-white">
                        <div class="text-sm text-gray-400">ä½™é¢</div>
                        <div class="font-bold">${formatBalance(balance)} SUI</div>
                    </div>
                    <button onclick="fetchBalance()" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded text-sm transition-colors">
                        åˆ·æ–°
                    </button>
                    <button onclick="disconnectWallet()" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-3 rounded text-sm transition-colors">
                        æ–­å¼€
                    </button>
                </div>
            `;
            
            showMessage('success', 'é’±åŒ…è¿æ¥æˆåŠŸï¼');
        }

        function disconnectWallet() {
            const walletSection = document.getElementById('wallet-section');
            isConnected = false;
            currentAccount = null;
            balance = '0';

            walletSection.innerHTML = `
                <button onclick="connectWallet()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                    è¿æ¥é’±åŒ…
                </button>
            `;
            
            showMessage('success', 'é’±åŒ…å·²æ–­å¼€è¿æ¥');
        }

        function fetchBalance() {
            // æ¨¡æ‹Ÿè·å–ä½™é¢
            const mockBalance = Math.floor(Math.random() * 10000000000).toString();
            balance = mockBalance;
            
            // æ›´æ–°æ˜¾ç¤º
            const walletSection = document.getElementById('wallet-section');
            const balanceEl = walletSection.querySelector('.font-bold');
            if (balanceEl) {
                balanceEl.textContent = `${formatBalance(balance)} SUI`;
            }
            
            showMessage('success', 'ä½™é¢å·²åˆ·æ–°');
        }

        async function createLockedObject(event) {
            event.preventDefault();
            
            if (!isConnected) {
                showMessage('error', 'è¯·å…ˆè¿æ¥é’±åŒ…');
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            const originalText = submitBtn.textContent;
            
            try {
                submitBtn.textContent = 'åˆ›å»ºä¸­...';
                submitBtn.disabled = true;

                const name = document.getElementById('name').value;
                const description = document.getElementById('description').value;
                const minLockPeriod = document.getElementById('minLockPeriod').value;

                // æ¨¡æ‹Ÿåˆ›å»ºè‡ªé”å¯¹è±¡
                console.log('Creating locked object:', { name, description, minLockPeriod });
                
                // æ¨¡æ‹Ÿäº¤æ˜“å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                const objectId = '0x' + Math.random().toString(16).substr(2, 64);
                
                showMessage('success', `è‡ªé”å¯¹è±¡åˆ›å»ºæˆåŠŸï¼å¯¹è±¡ID: ${objectId.slice(0, 10)}...`);
                
                // é‡ç½®è¡¨å•
                document.getElementById('name').value = '';
                document.getElementById('description').value = '';
                document.getElementById('minLockPeriod').value = '86400';
                document.getElementById('maxWithdrawalPerDay').value = '1000000000';
                document.getElementById('withdrawalFeeRate').value = '100';
                document.getElementById('autoReinvest').checked = false;
                document.getElementById('emergencyWithdrawal').checked = false;
                
            } catch (error) {
                showMessage('error', `åˆ›å»ºå¤±è´¥: ${error.message}`);
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
